@model MODELO_DATOS.MODELO_REQUISICION.REQUISICIONViewModel    
@using (Html.BeginForm("Index", "LICENCIA_INCAPACIDAD", FormMethod.Post, new { id = "formLicenciaGeneralJEFE", @class = "col-md-12 row" }))
{


    <h4 class="LSubtitulos col-md-12">Información Basica</h4>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.LIST_TIPO_DOCUMENTO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_TIPO_DOCUMENTO, Model.LIST_TIPO_DOCUMENTO, "Seleccione ", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.LIST_TIPO_DOCUMENTO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NUMERO_DOCUMENTO_EMPLEADO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.NUMERO_DOCUMENTO_EMPLEADO, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.NUMERO_DOCUMENTO_EMPLEADO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_EMPLEADO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.NOMBRE_EMPLEADO, new { htmlAttributes = new { @class = "form-control", @id = "nombreEmpleado" } })
            @Html.ValidationMessageFor(model => model.NOMBRE_EMPLEADO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.FECHA_INICIO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            <div class="input-group date datepicker-retiro" style="width:100% !important;">
                @Html.EditorFor(model => model.FECHA_INICIO, new { htmlAttributes = new { @class = "form-control", @type = "text", @Value = DateTime.Now.ToString("yyyy/MM/dd") } })
                <span class="input-group-addon"><span class="fas fa-calendar-alt"></span></span>
            </div>
            @Html.ValidationMessageFor(model => model.FECHA_INICIO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.FECHA_FIN, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            <div class="input-group date datepicker-retiro" style="width:100% !important;">
                @Html.EditorFor(model => model.FECHA_FIN, new { htmlAttributes = new { @class = "form-control", @type = "text", @Value = DateTime.Now.ToString("yyyy/MM/dd") } })
                <span class="input-group-addon"><span class="fas fa-calendar-alt"></span></span>
            </div>
            @Html.ValidationMessageFor(model => model.FECHA_FIN, "", new { @class = "text-danger" })

        </div>
    </div>
    @*fin de la seccion Inicial Licencia e Incapacidad*@
    @* Inicio de la seccion Información General *@

    <h4 class="LSubtitulos col-md-12">Información General</h4>

    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_CARGO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_CARGO, Model.LIST_NOMBRE_CARGO, "Seleccione", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.NOMBRE_CARGO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_GERENCIA, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_GERENCIA, Model.LIST_NOMBRE_GERENCIA, "Seleccione ", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.LIST_NOMBRE_GERENCIA, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.COD_CECO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.COD_CECO, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.COD_CECO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_SOCIEDAD, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_SOCIEDAD, Model.LIST_NOMBRE_GERENCIA, "Selecione ", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.LIST_NOMBRE_GERENCIA, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_EQIPO_VENTAS, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_EQUIPO_VENTAS, Model.LIST_NOMBRE_EQIPO_VENTAS, "Seleccione ", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.LIST_NOMBRE_EQIPO_VENTAS, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.NOMBRE_CATEGORIA_ED, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.DropDownListFor(model => model.COD_CATEGORIA_ED, Model.LIST_NOMBRE_CATEGORIA_ED, "Seleccione ", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.LIST_NOMBRE_CATEGORIA_ED, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.CARGO_CRITICO, htmlAttributes: new { @class = "control-label col-md-2" })
        @Html.EditorFor(model => model.CARGO_CRITICO)
        @Html.ValidationMessageFor(model => model.CARGO_CRITICO, "", new { @class = "text-danger" })
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.POSICION, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.POSICION, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.POSICION, "", new { @class = "text-danger" })
        </div>
    </div>
    @* Fin de la seccion Información General *@
    @* Inicio de la seccion Información salarial *@

    <h4 class="LSubtitulos col-md-12">Información Salarial</h4>

    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.SALARIO_FIJO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.SALARIO_FIJO, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SALARIO_FIJO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.PORCENTAJE_SALARIO_FIJO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.PORCENTAJE_SALARIO_FIJO, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.PORCENTAJE_SALARIO_FIJO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.SALARIO_VARIABLE, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.SALARIO_VARIABLE, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SALARIO_VARIABLE, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.PORCENTAJE_SALARIO_VARIABLE, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.PORCENTAJE_SALARIO_VARIABLE, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.PORCENTAJE_SALARIO_VARIABLE, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.SOBREREMUNERACION, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.SOBREREMUNERACION, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SOBREREMUNERACION, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.EXTRA_FIJA, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.EXTRA_FIJA, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.EXTRA_FIJA, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.RECARGO_NOCTURNO, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.RECARGO_NOCTURNO, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.RECARGO_NOCTURNO, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.MEDIO_TRANSPORTE, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.MEDIO_TRANSPORTE, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.MEDIO_TRANSPORTE, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.SALARIO_TOTAL, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.SALARIO_TOTAL, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SALARIO_TOTAL, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.BONO_ANUAL, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.BONO_ANUAL, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.BONO_ANUAL, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-6 row">
        @Html.LabelFor(model => model.NUMERO_SALARIOS, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.EditorFor(model => model.NUMERO_SALARIOS, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.NUMERO_SALARIOS, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group col-md-12 row">
        @Html.LabelFor(model => model.OBSERVACION_CREACION, htmlAttributes: new { @class = "control-label col-md-12" })
        <div class="col-md-12">
            @Html.TextAreaFor(model => model.OBSERVACION_CREACION, new { @class = "form-control", @Value = "Comentario" })
            @Html.ValidationMessageFor(model => model.OBSERVACION_CREACION, "", new { @class = "text-danger" })
        </div>
    </div>
    @* Fin de la seccion Información salarial *@

    @*Inicio de la seccion Botones*@
    <div class="retiros-detalle">
        <div class="form-group col-md-12 row">
            <div class="col-md-offset-2 col-md-4">
                <button class="btn-cancelar-retriro" type="button" id="btnLcancelar">Cancelar</button>
            </div>
            <div class="col-md-offset-2 col-md-4">
                <input type="submit" value="Crear licencia" class="btn-confirmar-retiro" id="btnLcrear" />
                @*<input type="submit" onclick="registrar()" value="Crear licencia" class="btn-confirmar-retiro" id="btnLcrear" />*@
            </div>
        </div>
    </div>
    @*fin de la seccion Botones*@
}


<!-- Modal a cancelar  -->
@*<div class="modal fade" id="modalFinalizarRetiro" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h6 class="modal-title" id="exampleModalLabel">Va a cancelar el retiro para:<br /><br /><label> </label></h6>
            </div>
            <div class="modal-body">Esta seguro de cancelar el retiro para ?</div>
            <div class="modal-footer">
                <button class="cancelar-modal" type="button" data-dismiss="modal">  No  </button>
                <button onclick="CancelarRetiro()" class="btn-principal" type="button"> Si </button>
            </div>
        </div>
    </div>
</div>*@
<!-- fin Modal para cancelar -->
<!-- Modal para  aprobar -->
<div class="modal fade" id="modalCrearRetiro" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h6 class="modal-title" id="exampleModalLabel"><br /><label id="NombreEmpl"></label><br /></h6>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button class="cancelar-modal" type="button" data-dismiss="modal">  No  </button>
                <button class="btn-principal" type="submit">  Si  </button>
            </div>
        </div>
    </div>
</div>
<!-- fin Modal para  aprobar-->

<script src="../../assets/js/scripts.js"></script>


<script>
    $(document).ready(function () {
        debugger;
        var resltado = "@ViewBag.resultado";
        if (resltado=="True") {
            $(".modal-body").text("La Requisición de Licencia/Incapacidad para " + $("#nombreEmpleado").val() + ". Se creo correctamente.");
            $('#modalCrearRetiro').modal("show");
        }
    });

    function registrar() {           

        $(".modal-body").text("Esta seguro de crear la Requisición de Licencia/Incapacidad para " + $("#nombreEmpleado").val());
        $('#modalCrearRetiro').modal("show");
    }

    @*function Guardar() {
        debugger;
        var $form = $("#formLicenciaGeneralJEFE");
        var model = JSON.stringify(getFormData($form), null, 2);
        console.log('model', JSON.parse(model));
        $.ajax({
            type: "POST",
            url: '@Url.Action("Guardar_click", "LICENCIA_INCAPACIDAD")',
            contentType: "application/json; charset=utf-8",
            data: model,
            dataType: "json",
            success: function () { window.location.href = '@Url.Action("Index", "REQUISICION")'; }
        });
    };

    function getFormData($form) {
        var unindexed_array = $form.serializeArray();
        var indexed_array = {};
        $.map(unindexed_array, function (n, i) {
            indexed_array[n['name']] = n['value'];
        });
        return indexed_array;
    }*@
</script>